var SearchExtension={$:$};SearchExtension.log=function(a){console.log(Date()+": CONTENT.JS - "+a)},SearchExtension.init=function(){var a=SearchExtension,b=a.$;a.log("Requesting page."),chrome.extension.sendMessage("page::"+document.location.href,function(c){a.log("Response recieved - "+c),b(".ss-search-container").remove(),c&&(a.log("page.isSearch="+c.isSearch),b(function(){var d,e,f,g="";if(c&&c.isSearch){g=c.selectedSearch.position?" ss-position-set":" ss-position-top",c.selectedSearch.barClass&&(g+=" "+c.selectedSearch.barClass),d='<div id="ssMouseBar" class="ss-mouse-bar"></div><div id="ssSearchBar" class="ss-search-bar'+g+'"><ul>';for(var h=0;h<c.searches.length;h++){if(g=c.searches[h].currentSearch?" ss-selected":"",e=c.searches[h].subSearches,e.length>0){f='<ul class="ss-sub-search">';for(var i=0;i<e.length;i++)f+='<li class="ss-search"><a href="'+e[i].url+'">'+e[i].name+"</a></li>";f+="</ul>"}else f="";d+='<li class="ss-search'+g+'"><a href="'+c.searches[h].url+'">'+c.searches[h].name+"</a>"+f+"</li>"}d+='</ul></div><script type="text/javascript">SearchExtension.searchBarLoaded();</script>',d='<div id="ssSearchContainer" class="ss-search-container">'+d+"</div>",b(window.document.body).prepend(d),a.log("Added search bar.")}}))})},SearchExtension.searchBarLoaded=function(){var a=SearchExtension;a.log("Search bar rendered."),$(".ss-mouse-bar").mouseenter(function(){a.log("ss-mouse-bar.mouseenter fired."),$(".ss-search-bar").slideDown("fast")}),$(".ss-search-bar").mouseleave(function(){a.log("ss-search-bar.mouseleave fired."),$(".ss-search-bar").slideUp("fast")}),$(".ss-search:first-child:not(.ss-sub-search>.ss-search)").mouseenter(function(){$(".ss-search-bar").addClass("ss-unround")}),$(".ss-search:first-child:not(.ss-sub-search>.ss-search)").mouseleave(function(){$(".ss-search-bar").removeClass("ss-unround")})},window.addEventListener("hashchange",SearchExtension.init),window.addEventListener("popstate",SearchExtension.init),SearchExtension.checkLocationChange=function(){document.location.href!==SearchExtension.lastLocation&&(SearchExtension.lastLocation=document.location.href,SearchExtension.init()),setTimeout(SearchExtension.checkLocationChange,1e3)},SearchExtension.init(),SearchExtension.checkLocationChange();
//# sourceMappingURL=source.map